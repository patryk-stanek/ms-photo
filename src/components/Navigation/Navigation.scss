@import "../../styles.scss";

$menu-items: 5;
$menu-items-loop-offset: $menu-items - 1;
$width: (100/$menu-items) * 1%;

.navigation {
  flex-basis: 50%;
  font-size: 17px;
  font-family: $font-secondary;
  text-transform: uppercase;
  font-weight: 400;
  display: flex;
  justify-content: center;
  position: relative;

  &__link {
    text-decoration: none;
    color: $color-3;
    padding: 13px 0;
    width: $width;
    display: block;
    text-align: center;
    background-color: $color-white;
  }

  &__wrap {
    width: 100%;
  }
}

.indicator {
  position: relative;
  z-index: 0;

  .navigation__link {

    &:last-child {
        
      &:before,
      &:after {
        content: '';
        display: block;
        position: absolute;
        pointer-events: none;
        transition: left .5s ease;
      }
    }

    &:after {
      width: $width;
      background: $color-2;
      top: 0;
      bottom: -3px;
      left: 0;
      z-index: -1;
    }
  }
}

.indicator {
  @for $i from 1 through $menu-items-loop-offset {

    .navigation__link:nth-child(#{$i}).navigation__link--active ~ .navigation__link:last-child:after {
      left:($width*$i)-$width;
    }
    
    .navigation__link:nth-child(#{$i}).navigation__link--active ~ .navigation__link:last-child:before {
      left:($width*$i)+($width/2)-$width;
    }
  }
}

@for $i from 1 through $menu-items-loop-offset {
  
  .navigation__link:nth-child(#{$i}):hover ~ .navigation__link:last-child:after {
    left:($width*$i)-$width !important;
  }

  .navigation__link:nth-child(#{$i}):hover ~ .navigation__link:last-child:before{
    left:($width*$i)+($width/2)-$width !important;
  }
}

.navigation__link {
  &:last-child {
    
    &:hover, &.navigation__link--active {

      &:before {
        
        left: (100%-$width)+($width/2) !important;
      }

      &:after{
        left: 100%-$width !important;
      }
    }        
  }
}